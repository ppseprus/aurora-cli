#!/usr/bin/env bash

echo "Running tests before push..."
echo ""

# Run tests
./test.sh

# Capture exit code
exit_code=$?

# If tests failed, prevent push
if [ ${exit_code} -ne 0 ]; then
  echo ""
  echo "✗ Push rejected: Tests failed"
  exit 1
fi

echo ""
echo "✓ All tests passed, proceeding with push"
exit 0
